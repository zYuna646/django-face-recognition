<VirtualHost *:80>
    ServerName fer.webapps.digital
    ServerAlias localhost
    
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    
    # Header untuk mengizinkan akses kamera
    <IfModule mod_headers.c>
        Header set Access-Control-Allow-Origin "*"
        Header set Feature-Policy "camera 'self'"
        Header set Permissions-Policy "camera=self"
        Header set X-Frame-Options "SAMEORIGIN"
        Header set X-Content-Type-Options "nosniff"
    </IfModule>
    
    # Proxy untuk aplikasi Django
    ProxyRequests Off
    ProxyPreserveHost On
    ProxyPass / http://localhost:8080/
    ProxyPassReverse / http://localhost:8080/
    
    # Proxy untuk static files
    ProxyPass /static/ http://localhost:8080/static/
    ProxyPassReverse /static/ http://localhost:8080/static/
    
    # Proxy untuk media files
    ProxyPass /media/ http://localhost:8080/media/
    ProxyPassReverse /media/ http://localhost:8080/media/
</VirtualHost> 